## CHỦ ĐỀ D. ĐẠO ĐỨC, PHÁP LUẬT VÀ VĂN HOÁ TRONG MÔI TRƯỜNG SỐ

# BÀI 6
# TRUY VẤN TRONG CƠ SỞ DỮ LIỆU QUAN HỆ (tiếp theo)

### Học xong bài này, em sẽ:

Đưa ra được một vài ví dụ minh hoạ cho việc dùng truy vấn để tổng hợp, tìm kiếm dữ liệu trên hơn một bảng.

Theo em, việc khai báo liên kết giữa một số bảng trong một CSDL quan hệ có ý nghĩa gì?

# 1 Câu lệnh truy vấn SQL với liên kết các bảng

Khi khai thác CSDL quan hệ, nhiều tình huống cần phải kết hợp dữ liệu ở hai hoặc nhiều bảng để đưa ra được dữ liệu cần tìm. Kiểu kết hợp thường gặp là ghép nối một bản ghi của bảng này với một hay nhiều bản ghi của bảng khác tạo nên một hay nhiều bản ghi mới đầy đủ thông tin hơn. Kết quả của các ghép nối là các bản ghi mới được đưa vào một bảng tạm thời. Hệ quản trị CSDL sẽ chọn lựa trong bảng tạm thời này những dữ liệu thoả mãn điều kiện tìm để đưa ra kết quả. Chẳng hạn, để tìm Mã sách của những quyển sách mà học sinh Trần Văn An đã mượn, hệ quản trị CSDL cần kết hợp dữ liệu ở bảng NGƯỜI ĐỌC với dữ liệu ở bảng MƯỢN-TRẢ. Mục đích kết hợp dữ liệu của hai bảng này là để có một bảng dữ liệu tạm thời mà mỗi bản ghi của nó cho ta dữ liệu đúng đắn và đầy đủ gồm *Họ và tên, Số thẻ TV,...* của một người đọc cùng với *Mã sách* của quyển sách họ mượn và ngày mượn,...

Mỗi giá trị khoá (một *Số thẻ TV*) chỉ xuất hiện trong một bản ghi duy nhất ở bảng NGƯỜI ĐỌC nhưng có thể xuất hiện trong nhiều bản ghi ở bảng MƯỢN-TRẢ. Do vậy, ta nói quan hệ giữa NGƯỜI ĐỌC và MƯỢN-TRẢ là quan hệ một – nhiều, ý nói một bản ghi trong bảng thứ nhất tương ứng với nhiều bản ghi trong bảng thứ hai và một bản ghi trong bảng thứ hai chỉ tương ứng với một bản ghi trong bảng thứ nhất.

Chú ý: Từ khoá INNER JOIN nằm giữa tên hai bảng nguồn cho kết nối và từ khoá ON đứng ngay trước điều kiện kết nối.

# 2 Kết xuất thông tin bằng báo cáo

Báo cáo CSDL là một văn bản trình bày thông tin kết xuất từ CSDL, có thể xem trực tiếp trên màn hình hoặc in ra. Dữ liệu để đưa vào báo cáo được lấy từ một hay nhiều bảng và truy vấn. Báo cáo trình bày dữ liệu trực quan, làm nổi bật những mục quan trọng và thường theo mẫu quy định. Vì lẽ đó nên nhu cầu xem báo cáo trong công tác quản lí rất lớn.

## Tóm tắt bài học

- Để trích rút dữ liệu trong một CSDL quan hệ, có những truy vấn phải thực hiện kết nối dữ liệu của các bảng.
- Mệnh đề FROM có thể chứa từ khoá chỉ định kiểu JOIN để thực hiện kết nối các bản ghi ở các bảng khác nhau. INNER JOIN là một kiểu kết nối phổ biến.
- Các hệ quản trị CSDL đều cung cấp công cụ tạo báo cáo tự động và người dùng cũng có thể điều chỉnh bố cục, định dạng báo cáo để nâng cao chất lượng trình bày thông tin.
