## CHỦ ĐỀ D. ĐẠO ĐỨC, PHÁP LUẬT VÀ VĂN HOÁ TRONG MÔI TRƯỜNG SỐ

# BÀI 5
# TRUY VẤN TRONG CƠ SỞ DỮ LIỆU QUAN HỆ

### Học xong bài này, em sẽ:

- Diễn đạt được khái niệm truy vấn CSDL.
- Giải thích được cấu trúc cơ bản SELECT...FROM...WHERE... của câu lệnh SQL.
- Nêu được một vài ví dụ minh hoạ việc dùng truy vấn để tổng hợp, tìm kiếm dữ liệu trên một bảng.

Em hãy nêu một vài ví dụ cụ thể về khai thác thông tin trong một CSDL mà em biết.

# 1 Khái niệm truy vấn CSDL

Truy vấn CSDL (Query) là một phát biểu thể hiện yêu cầu của người dùng đối với CSDL. Đó có thể là yêu cầu thao tác trên dữ liệu như: thêm, sửa, xoá bản ghi,... Đó cũng có thể là yêu cầu khai thác CSDL. Dù đơn giản hay phức tạp thì bản chất việc khai thác một CSDL là tìm kiếm dữ liệu đã lưu giữ trong đó và hiển thị kết quả theo khuôn dạng thuận lợi cho người khai thác.

Để máy tính có thể hiểu và thực thi được yêu cầu của người dùng, truy vấn phải được viết theo một số quy tắc của hệ quản trị CSDL. Nói cách khác, mỗi hệ quản trị CSDL có ngôn ngữ truy vấn của nó. Đối với các hệ quản trị CSDL quan hệ, ngôn ngữ truy vấn phổ biến nhất và nổi tiếng nhất cho đến nay là SQL (Structured Query Language). Hầu hết các hệ quản trị CSDL quan hệ, ngay cả những hệ thống có ngôn ngữ của riêng chúng, đều hỗ trợ một số phiên bản SQL. Bài học này tập trung vào việc dùng SQL thể hiện yêu cầu tìm và trích rút dữ liệu trong CSDL.

Chẳng hạn, giáo viên chủ nhiệm cần danh sách những học sinh của lớp có điểm tổng kết môn Tin học từ 8.0 trở lên. Tuỳ theo hệ quản trị CSDL, có thể có những truy vấn tóm tắt dữ liệu và thực hiện một số phép tính trên dữ liệu để đưa ra kết quả. Với những truy vấn như vậy, kết quả trả ra có thể là hình ảnh, đồ thị, ví dụ như kết quả của yêu cầu phân tích xu hướng mua/bán một mặt hàng trong 6 tháng đầu năm của một công ty thương mại.

# 2 Khai thác CSDL bằng câu truy vấn SQL đơn giản

Để có kết quả của câu truy vấn, hệ quản trị CSDL sẽ truy cập vào các bảng dữ liệu có tên được chỉ ra sau FROM. Các bản ghi thoả mãn điều kiện tìm kiếm đứng sau WHERE sẽ được lựa chọn. Kết quả câu truy vấn là những bản ghi đã được lựa chọn và chỉ giá trị của những trường có tên đứng sau SELECT mới được hiển thị.

Chú ý: Khi thực hiện các câu truy vấn, hệ quản trị CSDL sẽ coi tên trường là biến trong chương trình xử lí, do vậy, nếu tên trường có chứa dấu cách thì cần phải dùng các dấu [ ] để đánh dấu bắt đầu và kết thúc tên trường.

# 3 Ngôn ngữ truy vấn QBE

Có những hệ quản trị CSDL cho phép truy vấn bằng cách điền vào chỗ trống trong một bảng, như thể hiện một ví dụ về kết quả cần nhận được (nên ngôn ngữ truy vấn này là Query By Example – QBE). Access là là một hệ quản trị CSDL cho truy vấn bằng cả SQL và QBE.

## Tóm tắt bài học

- Đối với các hệ quản trị CSDL quan hệ, có hai loại truy vấn dữ liêu: truy vấn cập nhật dữ liệu và truy vấn khai thác dữ liệu.
- Ngôn từ truy vấn phổ biến nhất trong các hệ quản trị CSDL quan hệ là SQL. Cấu trúc truy vấn khai thác dữ liệu của SQL có cấu trúc cơ bản là SELECT... FROM ... WHERE...
- Mệnh đề SELECT xác định thông tin ta muốn hiển thị; mênh đề FROM xác định dữ liệu được lấy từ đâu; mênh đề WHERE xác định điều kiện lọc dữ liệu.
- Trong một số hệ quản trị CSDL, truy vấn còn có thể được hiển thị bằng ngôn ngữ QBE.

### BÀI ĐỌC THÊM

#### VÀI NÉT VỀ CSDL NoSQL

Vào cuối những năm 2000 xuất hiện các CSDL NoSQL. Một số người quen dùng truy vấn SQL trong các hệ CSDL quan hệ có thể suy đoán rằng CSDL NoSQL là CSDL không dùng truy vấn SQL. Thực ra "NoSQL" trong tên gọi đó nên được hiểu là "Không chỉ SQL" (Not Only SQL). Các hệ CSDL NoSQL ra đời là để lưu trữ và xử lí lượng dữ liệu tăng rất nhanh trong nhiều ứng dụng, đặc biệt là các ứng dụng web. Khác với các CSDL quan hệ truyền thống, CSDL NoSQL hỗ trợ nhiều kiểu lưu trữ dữ liệu khác nhau tuỳ thuộc vào ứng dụng cụ thể vì sử dụng cấu trúc chặt chẽ dạng bảng. Một số hệ CSDL NoSQL có thể sử dụng cú pháp giống SQL để làm việc với dữ liệu nhưng chỉ ở một mức độ hạn chế. CSDL NoSQL nới lỏng ràng buộc và tính nhất quán dữ liệu để đạt tốc độ nhanh trong phục vụ, tính linh hoạt cũng như khả năng mở rộng quy mô phục vụ. CSDL quan hệ và CSDL NoSQL, mỗi loại có cách lưu trữ và truy xuất dữ liệu khác nhau, được thiết kế để giải quyết các loại nhu cầu khác nhau do các ứng dụng CSDL đòi hỏi.
