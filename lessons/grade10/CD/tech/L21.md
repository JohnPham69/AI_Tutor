# BÀI 12
# KIỂU DỮ LIỆU XÂU KÍ TỰ - XỬ LÍ XÂU KÍ TỰ

## Học xong bài này, em sẽ:

- Nhận biết được dữ liệu kiểu xâu.
- Viết được câu lệnh Python trích xâu con từ xâu cho trước.
- Sử dụng được một số phép xử lí xâu thường dùng trong Python.

Em đã từng sử dụng phần mềm xử lí văn bản. Theo em, trong ngôn ngữ lập trình, ngoài kiểu dữ liệu số có cần một kiểu dữ liệu không phải là số dùng cho các bài toán xử lí văn bản hay không? Nếu có kiểu dữ liệu như vậy thì nên có những phép xử lí nào trên dữ liệu thuộc kiểu đó?

## 1) Kiểu dữ liệu xâu kí tự

Em hãy đọc chương trình sau đây và cho biết mỗi biến: so_hop, khoi_luong_hop, don_vi_kl chứa dữ liệu thuộc kiểu nào.

      file Edit Format Run Options Window Help
      Tinh khoi luong cafe trong bao
      so_hop = int(input("So hop cafe trong bao:"))
      khoi_luong_hop = float(input("Moi hop nang: "))
      don_vi_kl = input("Don vi tinh khoi luong: ")
      print("Khoi luong cafe trong bao la:", so_hop*khoi_luong_hop,don_vi_kl)

      
Gợi ý: Có thể dùng hàm type() để kiểm tra kết quả.

Để giải quyết các bài toán trong thực tế gồm cả dữ liệu số và không phải là số, các ngôn ngữ lập trình bậc cao đều cho chúng ta dùng các biến thuộc kiểu dữ liệu xâu kí tự và cung cấp một số công cụ để xử lí dữ liệu kiểu xâu kí tự. Một xâu kí tự là một dãy các kí tự. Trong Python, xâu kí tự được đặt trong cặp nháy kép ("...") hoặc nháy đơn ('...').

## 2) Một số hàm xử lí xâu kí tự

Python cung cấp nhiều công cụ để xử lí xâu. Một số công cụ thường dùng là:

### a) Ghép xâu bằng phép +

Viết liên tiếp các xâu cần ghép theo thứ tự và đặt giữa hai xâu kề nhau dấu "+".

    x = "ABC"
    y = "1234"
    z = "cba"
    r = x + y + z
    r
    'ABC1234cba'
    "ABC" + "1234" + "cba"
    'ABC1234cba'


### b) Đếm số lần xuất hiện xâu con

Hàm `y.count(x)` đếm số lần xuất hiện không giao nhau của `x` trong `y`.

Có thể nêu các tham số xác định cụ thể phạm vi tìm kiếm. Ví dụ:
- `y.count(x, 3)` cho biết số lần xuất hiện các xâu `x` không giao nhau trong xâu `y` nhưng chỉ trong phạm vi từ kí tự thứ ba đến kí tự cuối của xâu `y`.
- `y.count(x, 3, 5)` cho biết số lần xuất hiện các xâu `x` không giao nhau trong xâu `y` nhưng chỉ trong phạm vi từ kí tự thứ ba đến kí tự thứ năm của xâu `y`.

### c) Xác định xâu con

Xác định xâu con của xâu `y` từ vị trí `m` đến trước vị trí `n` (`m < n`) ta có cú pháp: `y[m:n]`.

### d) Tìm vị trí xuất hiện lần đầu tiên của một xâu trong xâu khác

Hàm `y.find(x)` trả về số nguyên xác định vị trí đầu tiên trong xâu `y` mà từ đó xâu `x` xuất hiện như một xâu con của xâu `y`. Nếu xâu `x` không xuất hiện như một xâu con, kết quả trả về sẽ là –1.

### e) Thay thế xâu con

Hàm `y.replace(x1, x2)` tạo xâu mới từ xâu `y` bằng cách thay thế xâu `x1` của `y` bằng xâu `x2`. Tất cả các xâu con bằng `x1` và không giao nhau của `y` đều được thay bằng xâu `x2`.

## Tóm tắt bài học

- Trong các ngôn ngữ lập trình bậc cao có kiểu dữ liệu xâu kí tự và các chương trình con cung cấp thao tác xử lí xâu kí tự.
- Trong Python, phép “+” dùng để ghép nối các xâu.
- Trong Python, có một số hàm xử lí xâu thường dùng: xác định độ dài xâu, đếm số lần xuất hiện xâu con, tìm vị trí xuất hiện lần đầu tiên của một xâu trong xâu khác, thay thế xâu con và cách xác định xâu con.
